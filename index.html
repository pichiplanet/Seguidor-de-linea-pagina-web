<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Curso: Robot Seguidor de L√≠nea</title>
  <link rel="icon" type="image/png" href="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Godot_icon.svg/1200px-Godot_icon.svg.png">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f6f8;
      margin: 0;
      padding: 0;
      transition: all 0.3s ease;
      color: #000;
      position: relative;
      overflow-x: hidden;
    }

    @keyframes fadeOutOverlay {
  from { opacity: 1; }
  to   { opacity: 0; }
}
#abbey-overlay.fading {
  animation: fadeOutOverlay 3s forwards;
}

    
    nav {
      background: #1e1e2f;
      padding: 10px 0;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    nav .btn {
      margin: 0 6px;
      font-size: 1rem;
    }

    @keyframes bounce {
  0%   { transform: scale(1);}
  20%  { transform: scale(1.1);}
  40%  { transform: scale(0.95);}
  60%  { transform: scale(1.05);}
  80%  { transform: scale(0.98);}
  100% { transform: scale(1);}
  }

  .btn:hover, .class-btn:hover {
  background: #f44336;
  color: #fff;
  animation: bounce 0.4s;
  }
    
    header {
      background-color: #1e1e2f;
      color: white;
      padding: 20px;
      text-align: center;
      position: relative;
      z-index: 2;
    }

    main {
      padding: 20px;
      position: relative;
      z-index: 2;
      transition: filter 0.3s ease;
    }

    @keyframes violent-bounce-y {
  0%   { transform: translateY(0); }
  10%  { transform: translateY(-40px); }
  20%  { transform: translateY(0); }
  30%  { transform: translateY(-30px);}
  40%  { transform: translateY(0);}
  50%  { transform: translateY(-50px);}
  60%  { transform: translateY(0);}
  70%  { transform: translateY(-40px);}
  80%  { transform: translateY(0);}
  90%  { transform: translateY(-30px);}
  100% { transform: translateY(0);}
}
    
    section {
      background-color: #ffffff;
      margin-bottom: 20px;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }

    h2, h3 {
      color: #333;
    }

    pre {
      background-color: #eee;
      padding: 10px;
      border-radius: 4px;
      overflow-x: auto;
      font-family: monospace;
    }

    .btn, .class-btn {
      display: inline-block;
      margin-top: 12px;
      margin-right: 8px;
      padding: 10px 20px;
      background: #1e1e2f;
      color: #fff;
      border-radius: 6px;
      text-decoration: none;
      font-weight: bold;
      transition: background 0.2s;
      border: none;
      cursor: pointer;
    }
    .btn:hover, .class-btn:hover {
      background: #f44336;
      color: #fff;
    }

    footer {
      background-color: #1e1e2f;
      color: white;
      text-align: center;
      padding: 18px 10px 10px 10px;
      position: relative;
      z-index: 2;
    }
    footer .btn {
      margin: 0 8px 0 0;
      font-size: 1rem;
    }

    footer a.solo-dou {
      display: none;
    }

    body.dou-mode footer a.solo-dou {
      display: inline-block;
    }

    /* Modo Dou */
    body.dou-mode {
      background-image: url('https://imgproxy.domestika.org/unsafe/s:1200:630/rs:fill/ex:true/el:true/plain/src://blog-post-open-graph-covers/000/013/103/13103-original.jpg?1713347781');
      background-repeat: repeat;
      background-size: 150px;
      color: #000;
    }
    body.dou-mode header {
      background-color: rgba(255, 255, 255, 0.85);
      color: #000;
    }
    body.dou-mode section {
      background-color: rgba(255, 255, 255, 0.95);
      border: 2px dashed #f44336;
    }
    body.dou-mode h2, body.dou-mode h3 {
      color: #d32f2f;
    }

    /* Cubo Homero */
    .dou-cube-container {
      perspective: 800px;
      width: 150px;
      height: 150px;
      margin: 20px auto 10px auto;
      position: relative;
      z-index: 5;
      display: none;
      animation: violent-bounce-y 0.8s infinite cubic-bezier(.23,1.22,.61,.94);
    }
    .dou-cube {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      animation: rotateCube 1500ms infinite linear;
    }
    .face {
      position: absolute;
      width: 150px;
      height: 150px;
      background-size: cover;
      background-position: center;
      opacity: 0.95;
      border: 1px solid rgba(0,0,0,0.1);
    }
    .front  { transform: rotateY(  0deg) translateZ(75px); }
    .back   { transform: rotateY(180deg) translateZ(75px); }
    .right  { transform: rotateY( 90deg) translateZ(75px); }
    .left   { transform: rotateY(-90deg) translateZ(75px); }
    .top    { transform: rotateX( 90deg) translateZ(75px); }
    .bottom { transform: rotateX(-90deg) translateZ(75px); }
    @keyframes rotateCube {
      0%   { transform: rotateX(0deg) rotateY(0deg); }
      100% { transform: rotateX(360deg) rotateY(360deg); }
    }

    /* Dropdown styles */
.dropdown {
  display: inline-block;
  position: relative;
}
.dropdown-content {
  display: none;
  position: absolute;
  background: #1e1e2f;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.18);
  padding: 0;
  margin: 0;
  list-style: none;
  min-width: 140px;
  z-index: 100;
  top: 110%;
  left: 50%;
  transform: translateX(-50%);
}
.dropdown-content li {
  width: 100%;
}
.dropdown-content a.btn {
  width: 100%;
  border-radius: 0;
  margin: 0;
  text-align: left;
  display: block;
  padding: 12px 20px;
  background: transparent;
}
.dropdown:hover .dropdown-content,
.dropdown:focus-within .dropdown-content {
  display: block;
}
.dropdown > .btn::after {
  content: '';
}

    
    /* Pantalla completa para ESENCIA */
    #esencia-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.8);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      cursor: pointer;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    #esencia-overlay.active {
      opacity: 1;
      pointer-events: all;
    }
    #esencia-overlay img {
      max-width: 90vw;
      max-height: 80vh;
      object-fit: contain;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(255,255,255,0.7);
      margin-bottom: 20px;
    }
    #esencia-overlay .caption {
      color: white;
      font-size: 2.5rem;
      font-weight: bold;
      font-family: 'Arial Black', Arial, sans-serif;
      text-shadow: 0 0 8px #000;
      user-select: none;
    }
    /* Cuando overlay est√° activo, se oscurece el contenido de fondo */
    body.esencia-active main,
    body.esencia-active header,
    body.esencia-active footer {
      filter: blur(4px) brightness(0.5);
      pointer-events: none;
      user-select: none;
    }
  </style>
</head>
<body>

  
  <nav>
  <a href="index.html" class="btn">Inicio</a>
  <div class="dropdown">
    <button class="btn">Clases ‚ñº</button>
    <ul class="dropdown-content">
      <li><a href="clase1.html" class="btn">Clase 1</a></li>
      <li><a href="clase2.html" class="btn">Clase 2</a></li>
      <li><a href="clase3.html" class="btn">Clase 3</a></li>
      <li><a href="clase4.html" class="btn">Clase 4</a></li>
      <li><a href="clase5.html" class="btn">Clase 5</a></li>
      <li><a href="clase6.html" class="btn">Clase 6</a></li>
      <li><a href="clase7.html" class="btn">Clase 7</a></li>
    </ul>
  </div>
  </nav>

  <header>
    <h1>ü§ñ Curso: Robot Seguidor de L√≠nea</h1>
    <p>Construcci√≥n y programaci√≥n desde cero</p>
  </header>

  <main>
    <div class="dou-cube-container">
      <div class="dou-cube">
        <div class="face front" style="background-image: url('https://imgproxy.domestika.org/unsafe/s:1200:630/rs:fill/ex:true/el:true/plain/src://blog-post-open-graph-covers/000/013/103/13103-original.jpg?1713347781');"></div>
        <div class="face back" style="background-image: url('https://imgproxy.domestika.org/unsafe/s:1200:630/rs:fill/ex:true/el:true/plain/src://blog-post-open-graph-covers/000/013/103/13103-original.jpg?1713347781');"></div>
        <div class="face right" style="background-image: url('https://imgproxy.domestika.org/unsafe/s:1200:630/rs:fill/ex:true/el:true/plain/src://blog-post-open-graph-covers/000/013/103/13103-original.jpg?1713347781');"></div>
        <div class="face left" style="background-image: url('https://imgproxy.domestika.org/unsafe/s:1200:630/rs:fill/ex:true/el:true/plain/src://blog-post-open-graph-covers/000/013/103/13103-original.jpg?1713347781');"></div>
        <div class="face top" style="background-image: url('https://imgproxy.domestika.org/unsafe/s:1200:630/rs:fill/ex:true/el:true/plain/src://blog-post-open-graph-covers/000/013/103/13103-original.jpg?1713347781');"></div>
        <div class="face bottom" style="background-image: url('https://imgproxy.domestika.org/unsafe/s:1200:630/rs:fill/ex:true/el:true/plain/src://blog-post-open-graph-covers/000/013/103/13103-original.jpg?1713347781');"></div>
      </div>
    </div>

    <section>
      <h2>üß† Objetivo</h2>
      <p>Que los estudiantes entiendan c√≥mo construir y programar un robot seguidor de l√≠nea desde cero, combinando electr√≥nica, mec√°nica y programaci√≥n.</p>
    </section>

    <section>
      <h2>üìö CLASE 1: Introducci√≥n al proyecto y componentes</h2>
      <ul>
        <li>¬øQu√© es un seguidor de l√≠nea?</li>
        <li>Tipos de sensores IR (reflectivos)</li>
        <li>Motor DC, puente H, ruedas</li>
        <li>Microcontrolador (Arduino UNO, ESP32, etc.)</li>
      </ul>
      <a href="clase1.html" class="btn">Ir a la clase &rarr;</a>
    </section>

    <section>
      <h2>üîå CLASE 2: Montaje del hardware</h2>
      <pre>
Sensor Izq ‚Üí A0  
Sensor Der ‚Üí A1  
Motor Izq ‚Üí IN1 e IN2 (L298N) ‚Üí D3 y D4  
Motor Der ‚Üí IN3 e IN4 (L298N) ‚Üí D5 y D6  
Enable ‚Üí D9 y D10 (PWM)
      </pre>
      <a href="clase2.html" class="btn">Ir a la clase &rarr;</a>
    </section>

    <section>
      <h2>üíª CLASE 3: Programaci√≥n b√°sica</h2>
      <pre>
void setup() {
  pinMode(A0, INPUT);
  pinMode(A1, INPUT);
  pinMode(3, OUTPUT);
  pinMode(4, OUTPUT);
  pinMode(5, OUTPUT);
  pinMode(6, OUTPUT);
}

void loop() {
  int sensorIzq = analogRead(A0);
  int sensorDer = analogRead(A1);

  if(sensorIzq < threshold) {
    // Gira a la derecha
  } else if(sensorDer < threshold) {
    // Gira a la izquierda
  } else {
    // Avanza recto
  }
}
      </pre>
      <a href="clase3.html" class="btn">Ir a la clase &rarr;</a>
    </section>

    <section>
      <h2>‚öôÔ∏è CLASE 4: Control b√°sico de motores</h2>
      <ul>
        <li>Control de velocidad con PWM</li>
        <li>Funciones para mover hacia adelante, girar izquierda/derecha, detenerse</li>
      </ul>
      <pre><code class="language-cpp">
void moverAdelante() {
  digitalWrite(IN1, HIGH); digitalWrite(IN2, LOW);
  digitalWrite(IN3, HIGH); digitalWrite(IN4, LOW);
}
      </code></pre>
      <a href="clase4.html" class="btn">Ir a la clase &rarr;</a>
    </section>

    <section>
      <h2>ü§ñ CLASE 5: Algoritmo b√°sico de seguimiento</h2>
      <ul>
        <li>L√≥gica de decisi√≥n simple:</li>
        <ul>
          <li>Si ambos sensores ven negro ‚Üí avanzar</li>
          <li>Si sensor izquierdo ve negro ‚Üí girar izquierda</li>
          <li>Si sensor derecho ve negro ‚Üí girar derecha</li>
          <li>Si ambos ven blanco ‚Üí detener</li>
        </ul>
      </ul>
      <pre><code>
si (izq == negro y der == negro) ‚Üí avanzar  
si (izq == negro y der == blanco) ‚Üí girar izquierda  
si (izq == blanco y der == negro) ‚Üí girar derecha  
si (ambos blancos) ‚Üí detener
      </code></pre>
      <a href="clase5.html" class="btn">Ir a la clase &rarr;</a>
    </section>

    <section>
      <h2>üõ†Ô∏è CLASE 6: Mejora del control ‚Äì Proporcional (PID opcional)</h2>
      <ul>
        <li>Concepto de control proporcional</li>
        <li>Usar diferencia entre sensores para ajustar velocidad suavemente</li>
        <li>Suavizado del movimiento</li>
      </ul>
      <pre><code class="language-cpp">
int error = valIzq - valDer;
int velIzq = baseSpeed - error;
int velDer = baseSpeed + error;

analogWrite(enA, velIzq);
analogWrite(enB, velDer);
      </code></pre>
      <a href="clase6.html" class="btn">Ir a la clase &rarr;</a>
    </section>

    <section>
      <h2>üèÅ CLASE 7: Pr√°ctica final y desaf√≠o</h2>
      <ul>
        <li>Repaso general</li>
        <li>Calibraci√≥n final</li>
        <li>Dise√±o de pista de prueba</li>
      </ul>
      <p>Organizar una competencia donde los robots sigan una l√≠nea completa sin salirse.</p>
      <a href="clase7.html" class="btn">Ir a la clase &rarr;</a>
    </section>

    <section>
      <h2>üìé Recursos recomendados</h2>
      <ul>
        <li>Arduino IDE</li>
        <li>Placas de pruebas (protoboard)</li>
        <li>Sensores IR QRE1113 o TCRT5000</li>
        <li>Puente H (L298N o m√≥dulo L9110S)</li>
        <li>Bater√≠as recargables NiMH / LiPo</li>
        <li>Chasis b√°sico con ruedas y soporte para sensores</li>
      </ul>
    </section>
  </main>

  <footer>
    <a href="mailto:juanbustos@eetp460.com" class="btn">Contacto</a>
    <a href="https://github.com/pichiplanet/Seguidor-de-linea-pagina-web/issues/new?labels=bug" class="btn" target="_blank" rel="noopener">Reportar Bug</a>
    <a href="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/PSP-1000.png/2560px-PSP-1000.png" target="_blank" class="solo-dou">
      <img src="https://media1.tenor.com/m/1LSpeLalIMoAAAAd/accept-jesus-as-your-savior-and-win-a-free-psp.gif"
        alt="PSP GIF"
        style="height:60px; vertical-align: middle;" />
    </a>
  </footer>

  <!-- Abbey Road Overlay -->
<div id="abbey-overlay" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:10000;">
  <img id="abbey-img" src="https://upload.wikimedia.org/wikipedia/en/4/42/Beatles_-_Abbey_Road.jpg" style="max-width:80vw; max-height:80vh; border-radius:14px; box-shadow:0 0 32px #fff;" />
</div>
<!-- Bart Overlay -->
<div id="bart-overlay" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:11000;">
  <img src="https://upload.wikimedia.org/wikipedia/en/a/aa/Bart_Simpson_200px.png" style="max-width:40vw; max-height:80vh;"/>
  <div style="position:absolute; bottom:10vh; left:0; width:100%; text-align:center; color:#fff; font-size:2.2rem; text-shadow:0 0 8px #000;">Escribe "bart" para continuar</div>
</div>
<!-- Audio element -->
<audio id="lobotomy-audio" src="lobotomy-sound-effect.mp3"></audio>
<audio id="knee-audio" src="knee-hurts.mp3" loop></audio>

    
  <!-- Overlay ESENCIA -->
  <div id="esencia-overlay" role="dialog" aria-modal="true" aria-hidden="true">
    <img src="https://i.imgur.com/Ut9Th5S.png" alt="Tablos" />
    <div class="caption">7 palabras... ESENCIA</div>
  </div>

  <script>
    const body = document.body;
    const cubes = document.querySelectorAll('.dou-cube-container');
    const esenciaOverlay = document.getElementById('esencia-overlay');

    let typed = '';
    let douMode = false;
    let originalTexts = [];

    function toggleDouMode() {
      document.body.classList.toggle('dou-mode');
      douMode = !douMode;

      // Show or hide the cubes based on douMode
      document.querySelectorAll('.dou-cube-container').forEach(cube => {
        cube.style.display = douMode ? 'block' : 'none';
      });

      // Show or hide PSP GIF and solo-dou elements
      document.querySelectorAll('.solo-dou').forEach(el => {
        el.style.display = douMode ? 'block' : 'none';
      });

      if (douMode) {
        // Save and replace all visible text
        originalTexts = [];
        document.querySelectorAll('h1, h2, h3, p, span, li, button, td, th').forEach(el => {
          if (!el.querySelector('img')) {
            originalTexts.push({ element: el, text: el.innerText });
            el.innerText = 'dou';
          }
        });
      } else {
        // Restore all original text
        originalTexts.forEach(item => {
          item.element.innerText = item.text;
        });
      }
    }

    function showEsencia() {
      esenciaOverlay.classList.add('active');
      esenciaOverlay.setAttribute('aria-hidden', 'false');
      body.classList.add('esencia-active');
    }

    function hideEsencia() {
      esenciaOverlay.classList.remove('active');
      esenciaOverlay.setAttribute('aria-hidden', 'true');
      body.classList.remove('esencia-active');
    }

    document.addEventListener('keydown', (e) => {
      // If the "esencia" overlay is active, allow ESC to close it
      if (esenciaOverlay.classList.contains('active')) {
        if (e.key === 'Escape') {
          hideEsencia();
          typed = '';
          return;
        }
      }

      if (e.key.length === 1) {
        typed += e.key.toLowerCase();
      } else if (e.key === 'Enter') {
        const trimmedTyped = typed.trim().toLowerCase();

        if (trimmedTyped === 'dou') {
          e.preventDefault();
          toggleDouMode();
          typed = '';
          return;
        } else if (trimmedTyped === 'esencia') {
          e.preventDefault();
          showEsencia();
          typed = '';
          return;
        }
        typed = '';
      } else if (e.key === 'Backspace') {
        typed = typed.slice(0, -1);
      }
    });

    // Cerrar overlay si haces click en √©l
    esenciaOverlay.addEventListener('click', hideEsencia);
  </script>
   <script>
const abbeyOverlay = document.getElementById('abbey-overlay');
const abbeyImg = document.getElementById('abbey-img');
const lobotomyAudio = document.getElementById('lobotomy-audio');
const bartOverlay = document.getElementById('bart-overlay');
const kneeAudio = document.getElementById('knee-audio');

let bartTyped = "";

// Pitch up the audio
function playLobotomy() {
  lobotomyAudio.playbackRate = 1.4; // Pitch up
  lobotomyAudio.currentTime = 0;
  lobotomyAudio.play();
}

// Homer Cube click
document.querySelector('.dou-cube-container').addEventListener('click', () => {
  // Show Abbey overlay
  abbeyOverlay.style.display = "flex";
  abbeyOverlay.style.opacity = "1";
  playLobotomy();

  // After 2.5s: fade out Abbey, show Bart overlay
  setTimeout(() => {
    abbeyOverlay.classList.add('fading');
    // After fade (1.2s), hide Abbey and show Bart
    setTimeout(() => {
      abbeyOverlay.style.display = "none";
      abbeyOverlay.classList.remove('fading');
      bartOverlay.style.display = "flex";
      // Stop lobotomy sound
      lobotomyAudio.pause();
      lobotomyAudio.currentTime = 0;
      // Play knee-hurts sound on loop
      kneeAudio.currentTime = 0;
      kneeAudio.loop = true;
      kneeAudio.play();
    }, 1200);
  }, 2500);
});

// Hide Bart overlay when user types "bart"
document.addEventListener('keydown', function(e) {
  if (bartOverlay.style.display === "flex") {
    if (e.key.length === 1) {
      bartTyped += e.key.toLowerCase();
      if (bartTyped.endsWith("bart")) {
        bartOverlay.style.display = "none";
        bartTyped = "";
        // Stop knee-hurts loop
        kneeAudio.pause();
        kneeAudio.currentTime = 0;
      }
      // prevent page scroll etc.
      e.preventDefault();
    } else if (e.key === 'Backspace') {
      bartTyped = bartTyped.slice(0, -1);
      e.preventDefault();
    }
  }
});
</script>
</body>
</html>
